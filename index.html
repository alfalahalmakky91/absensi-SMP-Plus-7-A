<!DOCTYPE html>

<body>
<h1>Presensi Kelas 7A</h1>
<h3>SMP Plus Al-Falah Al-Makky</p>

<hr>
<form id="laporanForm">
    Mapel: <input type="text" id="mapel"><br><br>
    Nama Guru: <input type="text" id="nama_guru"><br><br>
    Hari, Tanggal: <input type="text" id="hari_tanggal"><br><br>
    Materi: <input type="text" id="materi"><br><br>

    Kehadiran Siswa:<br>
    Ahmad Anu: 
    <select name="status_siswa" id="ahmad_anu">
        <option value="Hadir">Hadir</option>
        <option value="Sakit">Sakit</option>
        <option value="Izin">Izin</option>
        <option value="Absen">Absen</option>
    </select><br><br>

    Ahmad Kedua: 
    <select name="status_siswa" id="ahmad_kedua">
        <option value="Hadir">Hadir</option>
        <option value="Sakit">Sakit</option>
        <option value="Izin">Izin</option>
        <option value="Absen">Absen</option>
    </select><br><br>

    Ahmad Satunya: 
    <select name="status_siswa" id="ahmad_satunya">
        <option value="Hadir">Hadir</option>
        <option value="Sakit">Sakit</option>
        <option value="Izin">Izin</option>
        <option value="Absen">Absen</option>
    </select><br><br>

    <button type="button" onclick="kirimWhatsApp()">Kirim Laporan</button>
</form>

<script>
function kirimWhatsApp() {
    var mapel = document.getElementById("mapel").value;
    var nama_guru = document.getElementById("nama_guru").value;
    var hari_tanggal = document.getElementById("hari_tanggal").value;
    var materi = document.getElementById("materi").value;

    // Daftar siswa
    var siswa = [
        { nama: "Ahmad Anu", id: "ahmad_anu" },
        { nama: "Ahmad Kedua", id: "ahmad_kedua" },
        { nama: "Ahmad Satunya", id: "ahmad_satunya" }
    ];

    var laporan_siswa = "";

    siswa.forEach(function(s){
        var status = document.getElementById(s.id).value;
        var simbol = "";

        // Konversi status → simbol:
        if(status === "Hadir") simbol = "✔";
        else if(status === "Sakit") simbol = "[S]";
        else if(status === "Izin") simbol = "[i]";
        else if(status === "Absen") simbol = "[A]";

        // Bold nama jika Absen
        var namaTampil = (status === "Absen") ? `*${s.nama}*` : s.nama;

        laporan_siswa += `- ${namaTampil}: ${simbol}%0A`;
    });

    var pesan = `*Laporan Kehadiran Kelas 7A*%0A%0A` +
                `Mapel: ${mapel}%0A` +
                `Nama Guru: ${nama_guru}%0A` +
                `Hari, Tanggal: ${hari_tanggal}%0A` +
                `Materi: ${materi}%0A%0A` +
                `Kehadiran Siswa:%0A` +
                laporan_siswa;

    window.location.href = "https://wa.me/6282223331745?text=" + pesan;
}
</script>
</body>
</html>